<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link type="text/css" rel="stylesheet" href="../additional_files/bootstrap.min.css">
		<link type="text/css" rel="stylesheet" href="../additional_files/sh_typical.min.css">
		<title>[uoj69]新年的QAQ</title>
		<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$', '$']], displayMath: [['$$', '$$']]}});</script>
		<script type="text/javascript" src="../additional_files/sh_main.min.js"></script>
		<script type="text/javascript" src="../additional_files/MathJax-master/MathJax.js?config=TeX-MML-AM_CHTML"></script>
	</head>
	<body>
		<h3>题目描述</h3>
		<p>春节期间，慢羊羊订购了一台高端电脑。结果买回来一看，果然高端：每秒能进行 $10^{20}$ 次计算，从此腰也不酸了腿也不疼了。</p>
		<p>在这台电脑上有一种编程语言名叫 QAQ，它的代码由 $N$ 行组成，这台电脑会从第 $1$ 行开始，从上到下依次执行。</p>
		<p>这种编程语言有 $26$ 个 32 位整数型变量，分别叫做 $a, b, \cdots, z$。</p>
		<p>有这样几种语句：</p>
		<ol>
		<li><code>input <em>c</em></code>从标准输入读入一个整数并存储在 $c$ 中。$c$ 可以是 $a$ 到 $z$ 的任意变量。</li>
		<li><code>output <em>c</em></code>输出一个整数 $c$。$c$ 可以是 $a$ 到 $z$ 的任意变量。</li>
		<li><code><em>c</em> = <em>b</em></code> 把 $b$ 的值赋给 $c$。$b$ 可以是32位整数或 $a$ 到 $z$ 的任意变量，$c$ 可以是 $a$ 到 $z$ 的任意变量。</li>
		<li><code><em>c</em> = <em>a</em> op <em>b</em></code> 把 $a$ 和 $b$ 进行 $\mathrm{op}$ 运算并把值赋给 $c$。$a, b$ 可以是 32 位整数或 $a$ 到 $z$ 的任意变量，$c$ 可以是 $a$ 到 $z$ 的任意变量。$\mathrm{op}$ 有下面几种取值：
			<ol>
				<li>算术运算符
				<ol>
					<li><code>+</code>表示 $a$ 和 $b$ 的加法。</li>
					<li><code>-</code>表示 $a$ 和 $b$ 的减法。</li>
					<li><code>*</code>表示 $a$ 和 $b$ 的乘法。</li>
					<li><code>/</code>表示 $a$ 和 $b$ 的除法，会按 C++ 习惯向 $0$ 取整。</li>
					<li><code>%</code>表示 $a$ 除以 $b$ 的余数。</li>
				</ol>
				</li>
				<li>逻辑运算符
				<ol>
					<li><code>==</code>$a$ 和 $b$ 相等则为 $1$ 否则为 $0$。</li>
					<li><code>!=</code>$a$ 和 $b$ 不相等则为 $1$ 否则为 $0$。</li>
					<li><code>&lt;</code>$a$ 小于 $b$ 则 $1$ 否则为 $0$。</li>
					<li><code>&gt;</code>$a$ 大于 $b$ 则 $1$ 否则为 $0$。</li>
					<li><code>&lt;=</code>$a$ 小于等于 $b$ 则 $1$ 否则为 $0$。</li>
					<li><code>&gt;=</code>$a$ 大于等于 $b$ 则 $1$ 否则为 $0$。</li>
				</ol>
				</li>
			</ol>
		</li>
		<li><code>if <em>c</em> goto <em>t</em></code>如果 $c$ 不为 $0$ 则跳到第 $t$ 行继续执行 (也就是说下一次就会执行第 $t$ 行的语句)。$c$ 可以是 32 位整数或 $a$ 到 $z$ 的任意变量，$t$ 可以是任意正 32 位整数。</li>
		</ol>
		<p>当程序试图执行的语句的行号大于 $N$ 时程序结束。</p>
		<p>由于要展望新的一年的发展前景，慢羊羊需要用这台电脑算出斐波那契数列的第 $n$ 项对 $m$ 取模后的结果。</p>
		<p>但是很快慢羊羊发现了问题。这台电脑竟然有一定概率算错！仔细分析后慢羊羊得到了如下结论：</p>
		<ol>
		<li>在进行计算算术运算 <code>+</code>、<code>-</code>、<code>*</code>、<code>/</code>、<code>%</code> 时，有 $\dfrac 18$ 的概率返回一个 32 位随机整数。</li>
		<li>在进行计算逻辑运算 <code>==</code>、<code>!=</code>、<code>&lt;</code>、<code>&gt;</code>、<code>&lt;=</code>、<code>&gt;=</code> 时，有 $\dfrac 18$ 的概率将返回的结果反转。即 $0$ 变 $1$，$1$ 变 $0$。</li>
		<li>其它语句一定会正确执行。</li>
		</ol>
		<p>这可难坏了慢羊羊，他想请你帮他写一个程序能够以极高的概率算对斐波那契数列的第 $n$ 项对 $m$ 取模后的结果。</p>
		<p><strong>所以，请你写一个程序，输出 "一份能够完成任务的 QAQ 源代码"。</strong></p>
		<p>斐波那契数列 $f$ 的定义为：$f_0 = 0, f_1 = 1$，对于任意 $n \geq 2$ 的整数 $n$ 有 $f_n = f_{n - 1} + f_{n - 2}$。</p>

		<h3>输入格式</h3>
		<p>两个正整数 $n, m$ ($1 \leq n \leq 200; 1 \leq m \leq 10^9$)，表示要你求斐波那契数列第 $n$ 项对 $m$ 取模后的结果。</p>

		<h3>输出格式</h3>
		<p>输出一个整数，表示结果。</p>

		<h3>题解</h3>
		<p>听说算术运算要算错？不用怕，用小学的技巧，多算几次比一比！</p>
		<p>听说比较不靠谱？用减法比！32 位随机整数是 $0$ 的概率可以忽略不计！</p>
		<p>因此我们就可以轻松实现一个任何一种运算 <code>op</code> 了 (比如计算 <code><em>c</em> = <em>a</em> op <em>b</em></code>)：</p>
		<pre class="sh_sourceCode"><code class="sh_qaq"><span class="sh_variable">1.</span> c <span class="sh_symbol">=</span> a <span class="sh_symbol">op</span> b
<span class="sh_variable">2.</span> y <span class="sh_symbol">=</span> a <span class="sh_symbol">op</span> b
<span class="sh_variable">3.</span> z <span class="sh_symbol">=</span> c <span class="sh_symbol">-</span> y
<span class="sh_variable">4.</span> <span class="sh_keyword">if</span> z <span class="sh_keyword">goto</span> <span class="sh_number">1</span>
</code></pre>
		<p>然后就只要实现一个最简单的递推计算 Fibonacci 数即可，由于模数在 $10^9$，<code>int</code> 刚好存得下。</p>
		<p>这种方法每次算术运算的出错概率约为 $\dfrac 1 {2^{32}}$，重复 $600$ 次后出错率不到 $2 \times 10^{-7}$，是非常安全的。</p>

		<h3>代码</h3>

		<h4>QAQ 语言</h4>

		<div class="panel-body"><pre class="sh_sourceCode"><code class="sh_qaq"><span class="sh_variable"> 1.</span> <span class="sh_keyword">input</span> n
<span class="sh_variable"> 2.</span> <span class="sh_keyword">input</span> m
<span class="sh_variable"> 3.</span> a <span class="sh_symbol">=</span> <span class="sh_number">0</span>
<span class="sh_variable"> 4.</span> b <span class="sh_symbol">=</span> <span class="sh_number">1</span>
<span class="sh_variable"> 5.</span> c <span class="sh_symbol">=</span> a <span class="sh_symbol">+</span> b
<span class="sh_variable"> 6.</span> y <span class="sh_symbol">=</span> a <span class="sh_symbol">+</span> b
<span class="sh_variable"> 7.</span> z <span class="sh_symbol">=</span> c <span class="sh_symbol">-</span> y
<span class="sh_variable"> 8.</span> <span class="sh_keyword">if</span> z <span class="sh_keyword">goto</span> <span class="sh_number">5</span>
<span class="sh_variable"> 9.</span> d <span class="sh_symbol">=</span> c <span class="sh_symbol">%</span> m
<span class="sh_variable">10.</span> y <span class="sh_symbol">=</span> c <span class="sh_symbol">%</span> m
<span class="sh_variable">11.</span> z <span class="sh_symbol">=</span> d <span class="sh_symbol">-</span> y
<span class="sh_variable">12.</span> <span class="sh_keyword">if</span> z <span class="sh_keyword">goto</span> <span class="sh_number">9</span>
<span class="sh_variable">13.</span> a <span class="sh_symbol">=</span> b
<span class="sh_variable">14.</span> b <span class="sh_symbol">=</span> d
<span class="sh_variable">15.</span> x <span class="sh_symbol">=</span> n <span class="sh_symbol">-</span> <span class="sh_number">1</span>
<span class="sh_variable">16.</span> y <span class="sh_symbol">=</span> n <span class="sh_symbol">-</span> <span class="sh_number">1</span>
<span class="sh_variable">17.</span> z <span class="sh_symbol">=</span> x <span class="sh_symbol">-</span> y
<span class="sh_variable">18.</span> <span class="sh_keyword">if</span> z <span class="sh_keyword">goto</span> <span class="sh_number">15</span>
<span class="sh_variable">19.</span> n <span class="sh_symbol">=</span> x
<span class="sh_variable">20.</span> <span class="sh_keyword">if</span> n <span class="sh_keyword">goto</span> <span class="sh_number">5</span>
<span class="sh_variable">21.</span> <span class="sh_keyword">output</span> a
</code></pre></div>

		<h3>坑</h3>
		<p><strong>坑1：</strong>注意提交的是能输出 QAQ 代码的代码，而不是 QAQ 代码。</p>
	</body>
</html>
