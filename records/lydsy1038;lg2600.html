<link type="text/css" rel="stylesheet" href="../additional_files/bootstrap.min.css">
<link type="text/css" rel="stylesheet" href="../additional_files/sh_typical.min.css">
<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$', '$']], displayMath: [['$$', '$$']]}});</script>
<script type="text/javascript" src="../additional_files/MathJax-master/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<h3>题目描述</h3>
<p>致力于建设全国示范和谐小村庄的 H 村村长 scx，决定在村中建立一个瞭望塔，以此加强村中的治安。</p>
<p>我们将 H 村抽象为一维的轮廓，如下图所示：</p>
<img class="center-block" src="https://cdn.luogu.org/upload/pic/1710.png" alt="H 村的轮廓">
<p>我们可以用一条山的上方轮廓折线 $(x_1, y_1), (x_2, y_2), \cdots, (x_n, y_n)$ 来描述 H 村的形状，这里 $x_1 &lt; x_2 &lt; \cdots &lt; x_n$。瞭望塔可以建造在 $[x_1, x_n]$ 间的任意位置, 但必须满足从瞭望塔的顶端可以看到 H 村的任意位置。</p>
<p>可见在不同的位置建造瞭望塔，所需要建造的高度是不同的。为了节省开支，scx 希望建造的塔高度尽可能小。</p>
<p>请你写一个程序，帮助 scx 计算塔的最小高度。</p>

<h3>输入格式</h3>
<p>第一行包含一个正整数 $n$ ($n \leq 300$)，表示轮廓折线的节点数目。</p>
<p>第二行包含 $n$ 个整数 $x_1, x_2, \cdots, x_n$。</p>
<p>第三行包含 $n$ 个整数 $y_1, y_2, \cdots, y_n$，其中 ($|x_i|, |y_i| \leq 10^6$)。</p>

<h3>输出格式</h3>
<p>输出一行一个实数，为塔的最小高度，精确到小数点后三位。</p>

<h3>题解</h3>
<p>首先思考如果一个点能看见任意位置，它需要满足什么条件。考虑这样满足条件的点的最低点，可以发现，它看某一条线段是平行的。</p>
<p>对于某一条线段，如果它能看到，那么它就一定在那条线段所在直线的上方。如下图所示：</p>
<img class="center-block" src="uploads/8.png" alt="在直线的上方">
<p>又因为题目描述所说，塔只能建在 $[x_1, x_n]$ 之间的位置，因此再作两条垂直于 $x$ 轴的直线，于是可行的点就在这 $n + 1$ 条直线的<strong>半平面交</strong>上。
<p>于是像<a href="lydsy1007.html" target="_blank">这道题</a>一样跑一遍半平面交。然后因为原题要求<strong>塔的高度</strong>尽可能小，于是我们需要在 $x$ 轴上找一点，作 $x$ 轴的垂线，与上下两条折线相交，求截得线段的最小值。</p>
<p>作距离 $d$ 关于横坐标 $x$ 的函数 $d(x)$，如下图所示：</p>
<img class="center-block" src="uploads/9.png" alt="距离函数 d(x)　的单峰性">
<p>注意每两条虚线之间，上下两条折线都式直线，因此函数 $d(x)$　在该处也是直线。由一次函数的单调性，极值一定在某个端点取到，于是线性分段函数 $d(x)$ 的极值一定在某个节点处取到，可能是下面折线的节点，也可能是上面折线的节点。</p>
<p>于是我们就可以枚举所有的节点，显然它不超过 $2n$ 个，分别计算出 $d(x)$ 的值，然后取个最小值即可。</p>

<h3>代码</h3>

<div class="panel-body"><pre class="sh_sourceCode"><code class="sh_cpp"><span class="sh_preproc">#include</span> <span class="sh_string">&lt;bits/stdc++.h&gt;</span>
<span class="sh_preproc">#define</span> N <span class="sh_number">340</span>
<span class="sh_keyword">using</span> <span class="sh_keyword">namespace</span> std<span class="sh_symbol">;</span>

<span class="sh_keyword">const</span> <span class="sh_type">double</span> eps <span class="sh_symbol">=</span> <span class="sh_number">1e-8</span><span class="sh_symbol">;</span>

<span class="sh_keyword">struct</span><span class="sh_normal"> </span><span class="sh_classname">vec2</span><span class="sh_cbracket">{</span>
    <span class="sh_type">double</span> x<span class="sh_symbol">,</span> y<span class="sh_symbol">;</span>
    <span class="sh_function">vec2</span> <span class="sh_symbol">(</span><span class="sh_type">double</span> x0 <span class="sh_symbol">=</span> <span class="sh_number">0.0</span><span class="sh_symbol">,</span> <span class="sh_type">double</span> y0 <span class="sh_symbol">=</span> <span class="sh_number">0.0</span><span class="sh_symbol">):</span> <span class="sh_function">x</span><span class="sh_symbol">(</span>x0<span class="sh_symbol">),</span> <span class="sh_function">y</span><span class="sh_symbol">(</span>y0<span class="sh_symbol">)</span> <span class="sh_cbracket">{}</span>
    <span class="sh_keyword">inline</span> <span class="sh_usertype">vec2</span><span class="sh_normal"> </span><span class="sh_keyword">operator</span> <span class="sh_symbol">+</span> <span class="sh_symbol">(</span><span class="sh_keyword">const</span> <span class="sh_usertype">vec2</span><span class="sh_normal"> </span><span class="sh_symbol">&amp;</span>B<span class="sh_symbol">)</span> <span class="sh_keyword">const</span> <span class="sh_cbracket">{</span><span class="sh_keyword">return</span> <span class="sh_function">vec2</span><span class="sh_symbol">(</span>x <span class="sh_symbol">+</span> B<span class="sh_symbol">.</span>x<span class="sh_symbol">,</span> y <span class="sh_symbol">+</span> B<span class="sh_symbol">.</span>y<span class="sh_symbol">);</span><span class="sh_cbracket">}</span>
    <span class="sh_keyword">inline</span> <span class="sh_usertype">vec2</span><span class="sh_normal"> </span><span class="sh_keyword">operator</span> <span class="sh_symbol">-</span> <span class="sh_symbol">(</span><span class="sh_keyword">const</span> <span class="sh_usertype">vec2</span><span class="sh_normal"> </span><span class="sh_symbol">&amp;</span>B<span class="sh_symbol">)</span> <span class="sh_keyword">const</span> <span class="sh_cbracket">{</span><span class="sh_keyword">return</span> <span class="sh_function">vec2</span><span class="sh_symbol">(</span>x <span class="sh_symbol">-</span> B<span class="sh_symbol">.</span>x<span class="sh_symbol">,</span> y <span class="sh_symbol">-</span> B<span class="sh_symbol">.</span>y<span class="sh_symbol">);</span><span class="sh_cbracket">}</span>
    <span class="sh_keyword">inline</span> <span class="sh_usertype">vec2</span><span class="sh_normal"> </span><span class="sh_keyword">operator</span> <span class="sh_symbol">*</span> <span class="sh_symbol">(</span><span class="sh_type">double</span> k<span class="sh_symbol">)</span> <span class="sh_keyword">const</span> <span class="sh_cbracket">{</span><span class="sh_keyword">return</span> <span class="sh_function">vec2</span><span class="sh_symbol">(</span>x <span class="sh_symbol">*</span> k<span class="sh_symbol">,</span> y <span class="sh_symbol">*</span> k<span class="sh_symbol">);</span><span class="sh_cbracket">}</span>
    <span class="sh_keyword">inline</span> <span class="sh_type">double</span> <span class="sh_keyword">operator</span> <span class="sh_symbol">*</span> <span class="sh_symbol">(</span><span class="sh_keyword">const</span> <span class="sh_usertype">vec2</span><span class="sh_normal"> </span><span class="sh_symbol">&amp;</span>B<span class="sh_symbol">)</span> <span class="sh_keyword">const</span> <span class="sh_cbracket">{</span><span class="sh_keyword">return</span> x <span class="sh_symbol">*</span> B<span class="sh_symbol">.</span>x <span class="sh_symbol">+</span> y <span class="sh_symbol">*</span> B<span class="sh_symbol">.</span>y<span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
    <span class="sh_keyword">inline</span> <span class="sh_type">double</span> <span class="sh_keyword">operator</span> <span class="sh_symbol">^</span> <span class="sh_symbol">(</span><span class="sh_keyword">const</span> <span class="sh_usertype">vec2</span><span class="sh_normal"> </span><span class="sh_symbol">&amp;</span>B<span class="sh_symbol">)</span> <span class="sh_keyword">const</span> <span class="sh_cbracket">{</span><span class="sh_keyword">return</span> x <span class="sh_symbol">*</span> B<span class="sh_symbol">.</span>y <span class="sh_symbol">-</span> y <span class="sh_symbol">*</span> B<span class="sh_symbol">.</span>x<span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
    <span class="sh_keyword">inline</span> <span class="sh_type">double</span> <span class="sh_function">norm2</span><span class="sh_symbol">()</span> <span class="sh_keyword">const</span> <span class="sh_cbracket">{</span><span class="sh_keyword">return</span> <span class="sh_symbol">*</span><span class="sh_keyword">this</span> <span class="sh_symbol">*</span> <span class="sh_symbol">*</span><span class="sh_keyword">this</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span>p<span class="sh_symbol">[</span>N<span class="sh_symbol">],</span> q<span class="sh_symbol">[</span>N<span class="sh_symbol">];</span>

<span class="sh_keyword">struct</span><span class="sh_normal"> </span><span class="sh_classname">line</span><span class="sh_cbracket">{</span>
    <span class="sh_type">double</span> A<span class="sh_symbol">,</span> B<span class="sh_symbol">,</span> C<span class="sh_symbol">;</span> <span class="sh_comment">// Ax + By + C = 0, where B &gt;= 0.</span>
    <span class="sh_function">line</span> <span class="sh_symbol">(</span><span class="sh_type">double</span> A0 <span class="sh_symbol">=</span> <span class="sh_number">0.0</span><span class="sh_symbol">,</span> <span class="sh_type">double</span> B0 <span class="sh_symbol">=</span> <span class="sh_number">0.0</span><span class="sh_symbol">,</span> <span class="sh_type">double</span> C0 <span class="sh_symbol">=</span> <span class="sh_number">0.0</span><span class="sh_symbol">):</span> <span class="sh_function">A</span><span class="sh_symbol">(</span>A0<span class="sh_symbol">),</span> <span class="sh_function">B</span><span class="sh_symbol">(</span>B0<span class="sh_symbol">),</span> <span class="sh_function">C</span><span class="sh_symbol">(</span>C0<span class="sh_symbol">)</span> <span class="sh_cbracket">{}</span>
    <span class="sh_keyword">inline</span> <span class="sh_type">void</span> <span class="sh_function">normalize</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span><span class="sh_keyword">if</span><span class="sh_symbol">(</span>B <span class="sh_symbol">&lt;</span> <span class="sh_number">0.0</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>A <span class="sh_symbol">=</span> <span class="sh_symbol">-</span>A<span class="sh_symbol">;</span> B <span class="sh_symbol">=</span> <span class="sh_symbol">-</span>B<span class="sh_symbol">;</span> C <span class="sh_symbol">=</span> <span class="sh_symbol">-</span>C<span class="sh_symbol">;</span><span class="sh_cbracket">}}</span>
    <span class="sh_keyword">inline</span> <span class="sh_usertype">vec2</span><span class="sh_normal"> </span><span class="sh_function">normVec</span><span class="sh_symbol">()</span> <span class="sh_keyword">const</span> <span class="sh_cbracket">{</span><span class="sh_keyword">return</span> <span class="sh_function">vec2</span><span class="sh_symbol">(</span>A<span class="sh_symbol">,</span> B<span class="sh_symbol">);</span><span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span>l<span class="sh_symbol">[</span>N<span class="sh_symbol">],</span> st<span class="sh_symbol">[</span>N<span class="sh_symbol">],</span> tl<span class="sh_symbol">;</span>

<span class="sh_type">int</span> n<span class="sh_symbol">,</span> i<span class="sh_symbol">,</span> j<span class="sh_symbol">,</span> top<span class="sh_symbol">;</span>
<span class="sh_type">double</span> ans<span class="sh_symbol">,</span> vy<span class="sh_symbol">;</span>

<span class="sh_type">int</span> __c_x<span class="sh_symbol">[</span>N<span class="sh_symbol">],</span> __c_y<span class="sh_symbol">[</span>N<span class="sh_symbol">];</span>

<span class="sh_comment">// compare lines with slopes.</span>
<span class="sh_keyword">inline</span> <span class="sh_type">bool</span> <span class="sh_function">cmp</span><span class="sh_symbol">(</span><span class="sh_keyword">const</span> <span class="sh_usertype">line</span><span class="sh_normal"> </span>u<span class="sh_symbol">,</span> <span class="sh_keyword">const</span> <span class="sh_usertype">line</span><span class="sh_normal"> </span>v<span class="sh_symbol">)</span><span class="sh_cbracket">{</span>
    <span class="sh_type">double</span> uB <span class="sh_symbol">=</span> <span class="sh_number">1.0</span> <span class="sh_symbol">/</span> u<span class="sh_symbol">.</span>B<span class="sh_symbol">,</span> vB <span class="sh_symbol">=</span> <span class="sh_number">1.0</span> <span class="sh_symbol">/</span> v<span class="sh_symbol">.</span>B<span class="sh_symbol">,</span> K <span class="sh_symbol">=</span> u<span class="sh_symbol">.</span>A <span class="sh_symbol">*</span> uB <span class="sh_symbol">-</span> v<span class="sh_symbol">.</span>A <span class="sh_symbol">*</span> vB<span class="sh_symbol">;</span>
    <span class="sh_keyword">return</span> <span class="sh_symbol">-</span>eps <span class="sh_symbol">&lt;</span> K <span class="sh_symbol">&amp;&amp;</span> K <span class="sh_symbol">&lt;</span> eps <span class="sh_symbol">?</span> u<span class="sh_symbol">.</span>C <span class="sh_symbol">*</span> uB <span class="sh_symbol">&gt;</span> v<span class="sh_symbol">.</span>C <span class="sh_symbol">*</span> vB <span class="sh_symbol">:</span> K <span class="sh_symbol">&gt;</span> <span class="sh_number">0.0</span><span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span>

<span class="sh_comment">// return true if u // v.</span>
<span class="sh_keyword">inline</span> <span class="sh_type">bool</span> <span class="sh_function">parallel</span><span class="sh_symbol">(</span><span class="sh_keyword">const</span> <span class="sh_usertype">line</span><span class="sh_normal"> </span>u<span class="sh_symbol">,</span> <span class="sh_keyword">const</span> <span class="sh_usertype">line</span><span class="sh_normal"> </span>v<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_keyword">return</span> <span class="sh_symbol">(</span>u<span class="sh_symbol">.</span><span class="sh_function">normVec</span><span class="sh_symbol">()</span> <span class="sh_symbol">^</span> v<span class="sh_symbol">.</span><span class="sh_function">normVec</span><span class="sh_symbol">())</span> <span class="sh_symbol">&lt;</span> eps<span class="sh_symbol">;</span><span class="sh_cbracket">}</span>

<span class="sh_comment">// return the intersection of 2 lines.</span>
<span class="sh_keyword">inline</span> <span class="sh_usertype">vec2</span><span class="sh_normal"> </span><span class="sh_function">intersection</span><span class="sh_symbol">(</span><span class="sh_keyword">const</span> <span class="sh_usertype">line</span><span class="sh_normal"> </span>u<span class="sh_symbol">,</span> <span class="sh_keyword">const</span> <span class="sh_usertype">line</span><span class="sh_normal"> </span>v<span class="sh_symbol">)</span><span class="sh_cbracket">{</span>
    <span class="sh_type">double</span> Det <span class="sh_symbol">=</span> <span class="sh_number">1.0</span> <span class="sh_symbol">/</span> <span class="sh_symbol">(</span>u<span class="sh_symbol">.</span><span class="sh_function">normVec</span><span class="sh_symbol">()</span> <span class="sh_symbol">^</span> v<span class="sh_symbol">.</span><span class="sh_function">normVec</span><span class="sh_symbol">());</span>
    <span class="sh_keyword">return</span> <span class="sh_function">vec2</span><span class="sh_symbol">(</span>u<span class="sh_symbol">.</span>B <span class="sh_symbol">*</span> v<span class="sh_symbol">.</span>C <span class="sh_symbol">-</span> u<span class="sh_symbol">.</span>C <span class="sh_symbol">*</span> v<span class="sh_symbol">.</span>B<span class="sh_symbol">,</span> u<span class="sh_symbol">.</span>C <span class="sh_symbol">*</span> v<span class="sh_symbol">.</span>A <span class="sh_symbol">-</span> u<span class="sh_symbol">.</span>A <span class="sh_symbol">*</span> v<span class="sh_symbol">.</span>C<span class="sh_symbol">)</span> <span class="sh_symbol">*</span> Det<span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span>

<span class="sh_comment">// return a line through 2 given points.</span>
<span class="sh_keyword">inline</span> <span class="sh_usertype">line</span><span class="sh_normal"> </span><span class="sh_function">getLine</span><span class="sh_symbol">(</span><span class="sh_keyword">const</span> <span class="sh_usertype">vec2</span><span class="sh_normal"> </span>u<span class="sh_symbol">,</span> <span class="sh_keyword">const</span> <span class="sh_usertype">vec2</span><span class="sh_normal"> </span>v<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_keyword">return</span> <span class="sh_function">line</span><span class="sh_symbol">(</span>u<span class="sh_symbol">.</span>y <span class="sh_symbol">-</span> v<span class="sh_symbol">.</span>y<span class="sh_symbol">,</span> v<span class="sh_symbol">.</span>x <span class="sh_symbol">-</span> u<span class="sh_symbol">.</span>x<span class="sh_symbol">,</span> u <span class="sh_symbol">^</span> v<span class="sh_symbol">);</span><span class="sh_cbracket">}</span>

<span class="sh_comment">// return true if the last line failed the HPI test.</span>
<span class="sh_keyword">inline</span> <span class="sh_type">bool</span> <span class="sh_function">failed</span><span class="sh_symbol">(</span><span class="sh_keyword">const</span> <span class="sh_usertype">line</span><span class="sh_normal"> </span>a<span class="sh_symbol">,</span> <span class="sh_keyword">const</span> <span class="sh_usertype">line</span><span class="sh_normal"> </span>b<span class="sh_symbol">,</span> <span class="sh_keyword">const</span> <span class="sh_usertype">line</span><span class="sh_normal"> </span>c<span class="sh_symbol">)</span><span class="sh_cbracket">{</span>
    <span class="sh_usertype">vec2</span><span class="sh_normal"> </span>P <span class="sh_symbol">=</span> <span class="sh_function">intersection</span><span class="sh_symbol">(</span>a<span class="sh_symbol">,</span> b<span class="sh_symbol">);</span>
    <span class="sh_keyword">return</span> c<span class="sh_symbol">.</span>A <span class="sh_symbol">*</span> P<span class="sh_symbol">.</span>x <span class="sh_symbol">+</span> c<span class="sh_symbol">.</span>B <span class="sh_symbol">*</span> P<span class="sh_symbol">.</span>y <span class="sh_symbol">+</span> c<span class="sh_symbol">.</span>C <span class="sh_symbol">&lt;</span> eps<span class="sh_symbol">;</span> <span class="sh_comment">// Ax + By + C &lt; 0.</span>
<span class="sh_cbracket">}</span>

<span class="sh_type">void</span> <span class="sh_function">Half_Plane_Intersection</span><span class="sh_symbol">()</span><span class="sh_cbracket">{</span>
    <span class="sh_type">int</span> i<span class="sh_symbol">;</span> top <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span>
    st<span class="sh_symbol">[++</span>top<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> l<span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">];</span>
    <span class="sh_keyword">for</span><span class="sh_symbol">(</span>i <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;=</span> n<span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i<span class="sh_symbol">)</span><span class="sh_cbracket">{</span>
        <span class="sh_keyword">for</span><span class="sh_symbol">(;</span> top <span class="sh_symbol">&gt;</span> <span class="sh_number">1</span> <span class="sh_symbol">&amp;&amp;</span> <span class="sh_function">parallel</span><span class="sh_symbol">(</span>st<span class="sh_symbol">[</span>top<span class="sh_symbol">],</span> l<span class="sh_symbol">[</span>i<span class="sh_symbol">]);</span> <span class="sh_symbol">--</span>top<span class="sh_symbol">);</span>
        <span class="sh_keyword">for</span><span class="sh_symbol">(;</span> top <span class="sh_symbol">&gt;</span> <span class="sh_number">1</span> <span class="sh_symbol">&amp;&amp;</span> <span class="sh_function">failed</span><span class="sh_symbol">(</span>st<span class="sh_symbol">[</span>top <span class="sh_symbol">-</span> <span class="sh_number">1</span><span class="sh_symbol">],</span> st<span class="sh_symbol">[</span>top<span class="sh_symbol">],</span> l<span class="sh_symbol">[</span>i<span class="sh_symbol">]);</span> <span class="sh_symbol">--</span>top<span class="sh_symbol">);</span>
        st<span class="sh_symbol">[++</span>top<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> l<span class="sh_symbol">[</span>i<span class="sh_symbol">];</span>
    <span class="sh_cbracket">}</span>
    <span class="sh_keyword">for</span><span class="sh_symbol">(</span>i <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;</span> top<span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i<span class="sh_symbol">)</span> q<span class="sh_symbol">[</span>i<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_function">intersection</span><span class="sh_symbol">(</span>st<span class="sh_symbol">[</span>i<span class="sh_symbol">],</span> st<span class="sh_symbol">[</span>i <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">]);</span>
<span class="sh_cbracket">}</span>

<span class="sh_keyword">inline</span> <span class="sh_type">void</span> <span class="sh_function">down</span><span class="sh_symbol">(</span><span class="sh_type">double</span> <span class="sh_symbol">&amp;</span>x<span class="sh_symbol">,</span> <span class="sh_keyword">const</span> <span class="sh_type">double</span> y<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>x <span class="sh_symbol">&gt;</span> y <span class="sh_symbol">?</span> x <span class="sh_symbol">=</span> y <span class="sh_symbol">:</span> <span class="sh_number">0.0</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>

<span class="sh_type">int</span> <span class="sh_function">main</span><span class="sh_symbol">()</span><span class="sh_cbracket">{</span>
    <span class="sh_function">scanf</span><span class="sh_symbol">(</span><span class="sh_string">"%d"</span><span class="sh_symbol">,</span> <span class="sh_symbol">&amp;</span>n<span class="sh_symbol">);</span>
    <span class="sh_keyword">for</span><span class="sh_symbol">(</span>i <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;=</span> n<span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i<span class="sh_symbol">)</span> <span class="sh_function">scanf</span><span class="sh_symbol">(</span><span class="sh_string">"%d"</span><span class="sh_symbol">,</span> __c_x <span class="sh_symbol">+</span> i<span class="sh_symbol">);</span>
    <span class="sh_keyword">for</span><span class="sh_symbol">(</span>i <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;=</span> n<span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i<span class="sh_symbol">)</span> <span class="sh_function">scanf</span><span class="sh_symbol">(</span><span class="sh_string">"%d"</span><span class="sh_symbol">,</span> __c_y <span class="sh_symbol">+</span> i<span class="sh_symbol">);</span>
    <span class="sh_keyword">for</span><span class="sh_symbol">(</span>i <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;=</span> n<span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i<span class="sh_symbol">)</span> p<span class="sh_symbol">[</span>i<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_function">vec2</span><span class="sh_symbol">((</span><span class="sh_type">double</span><span class="sh_symbol">)</span>__c_x<span class="sh_symbol">[</span>i<span class="sh_symbol">],</span> <span class="sh_symbol">(</span><span class="sh_type">double</span><span class="sh_symbol">)</span>__c_y<span class="sh_symbol">[</span>i<span class="sh_symbol">]);</span>
    p<span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_function">vec2</span><span class="sh_symbol">((</span><span class="sh_type">double</span><span class="sh_symbol">)</span>__c_x<span class="sh_symbol">[</span><span class="sh_number">1</span><span class="sh_symbol">],</span> __c_y<span class="sh_symbol">[</span><span class="sh_number">1</span><span class="sh_symbol">]</span> <span class="sh_symbol">+</span> <span class="sh_number">1.0</span><span class="sh_symbol">);</span>
    p<span class="sh_symbol">[</span>n <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_function">vec2</span><span class="sh_symbol">((</span><span class="sh_type">double</span><span class="sh_symbol">)</span>__c_x<span class="sh_symbol">[</span>n<span class="sh_symbol">],</span> __c_y<span class="sh_symbol">[</span>n<span class="sh_symbol">]</span> <span class="sh_symbol">+</span> <span class="sh_number">1.0</span><span class="sh_symbol">);</span>
    <span class="sh_keyword">for</span><span class="sh_symbol">(</span>i <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;=</span> n<span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i<span class="sh_symbol">)</span> l<span class="sh_symbol">[</span>i<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_function">getLine</span><span class="sh_symbol">(</span>p<span class="sh_symbol">[</span>i<span class="sh_symbol">],</span> p<span class="sh_symbol">[</span>i <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">]);</span>
    <span class="sh_keyword">for</span><span class="sh_symbol">(</span>i <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;</span> n<span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i<span class="sh_symbol">)</span> l<span class="sh_symbol">[</span>i<span class="sh_symbol">].</span><span class="sh_function">normalize</span><span class="sh_symbol">();</span>
    <span class="sh_function">sort</span><span class="sh_symbol">(</span>l <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> l <span class="sh_symbol">+</span> n<span class="sh_symbol">,</span> cmp<span class="sh_symbol">);</span>
    <span class="sh_function">Half_Plane_Intersection</span><span class="sh_symbol">();</span>
    <span class="sh_keyword">for</span><span class="sh_symbol">(</span>i <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;=</span> n<span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i<span class="sh_symbol">)</span> l<span class="sh_symbol">[</span>i<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_function">getLine</span><span class="sh_symbol">(</span>p<span class="sh_symbol">[</span>i<span class="sh_symbol">],</span> p<span class="sh_symbol">[</span>i <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">]);</span>
    ans <span class="sh_symbol">=</span> INFINITY<span class="sh_symbol">;</span>
    <span class="sh_keyword">for</span><span class="sh_symbol">(</span>i <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;=</span> n<span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i<span class="sh_symbol">)</span>
        <span class="sh_keyword">for</span><span class="sh_symbol">(</span>j <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span> j <span class="sh_symbol">&lt;</span> top <span class="sh_symbol">-</span> <span class="sh_number">1</span><span class="sh_symbol">;</span> <span class="sh_symbol">++</span>j<span class="sh_symbol">)</span>
            <span class="sh_keyword">if</span><span class="sh_symbol">(</span>q<span class="sh_symbol">[</span>j<span class="sh_symbol">].</span>x <span class="sh_symbol">&lt;=</span> p<span class="sh_symbol">[</span>i<span class="sh_symbol">].</span>x <span class="sh_symbol">&amp;&amp;</span> p<span class="sh_symbol">[</span>i<span class="sh_symbol">].</span>x <span class="sh_symbol">&lt;=</span> q<span class="sh_symbol">[</span>j <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">].</span>x<span class="sh_symbol">)</span><span class="sh_cbracket">{</span>
                tl <span class="sh_symbol">=</span> <span class="sh_function">line</span><span class="sh_symbol">(</span><span class="sh_number">1.0</span><span class="sh_symbol">,</span> <span class="sh_number">0.0</span><span class="sh_symbol">,</span> <span class="sh_symbol">-</span>p<span class="sh_symbol">[</span>i<span class="sh_symbol">].</span>x<span class="sh_symbol">);</span>
                vy <span class="sh_symbol">=</span> <span class="sh_function">intersection</span><span class="sh_symbol">(</span>st<span class="sh_symbol">[</span>j <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">],</span> tl<span class="sh_symbol">).</span>y<span class="sh_symbol">;</span>
                <span class="sh_function">down</span><span class="sh_symbol">(</span>ans<span class="sh_symbol">,</span> vy <span class="sh_symbol">-</span> p<span class="sh_symbol">[</span>i<span class="sh_symbol">].</span>y<span class="sh_symbol">);</span>
            <span class="sh_cbracket">}</span>
    <span class="sh_keyword">for</span><span class="sh_symbol">(</span>j <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span> j <span class="sh_symbol">&lt;</span> top<span class="sh_symbol">;</span> <span class="sh_symbol">++</span>j<span class="sh_symbol">)</span>
        <span class="sh_keyword">for</span><span class="sh_symbol">(</span>i <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;</span> n<span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i<span class="sh_symbol">)</span>
            <span class="sh_keyword">if</span><span class="sh_symbol">(</span>p<span class="sh_symbol">[</span>i<span class="sh_symbol">].</span>x <span class="sh_symbol">&lt;=</span> q<span class="sh_symbol">[</span>j<span class="sh_symbol">].</span>x <span class="sh_symbol">&amp;&amp;</span> q<span class="sh_symbol">[</span>j<span class="sh_symbol">].</span>x <span class="sh_symbol">&lt;=</span> p<span class="sh_symbol">[</span>i <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">].</span>x<span class="sh_symbol">)</span><span class="sh_cbracket">{</span>
                tl <span class="sh_symbol">=</span> <span class="sh_function">line</span><span class="sh_symbol">(</span><span class="sh_number">1.0</span><span class="sh_symbol">,</span> <span class="sh_number">0.0</span><span class="sh_symbol">,</span> <span class="sh_symbol">-</span>q<span class="sh_symbol">[</span>j<span class="sh_symbol">].</span>x<span class="sh_symbol">);</span>
                vy <span class="sh_symbol">=</span> <span class="sh_function">intersection</span><span class="sh_symbol">(</span>l<span class="sh_symbol">[</span>i<span class="sh_symbol">],</span> tl<span class="sh_symbol">).</span>y<span class="sh_symbol">;</span>
                <span class="sh_function">down</span><span class="sh_symbol">(</span>ans<span class="sh_symbol">,</span> q<span class="sh_symbol">[</span>j<span class="sh_symbol">].</span>y <span class="sh_symbol">-</span> vy<span class="sh_symbol">);</span>
            <span class="sh_cbracket">}</span>
    <span class="sh_function">printf</span><span class="sh_symbol">(</span><span class="sh_string">"%.3lf</span><span class="sh_specialchar">\n</span><span class="sh_string">"</span><span class="sh_symbol">,</span> ans <span class="sh_symbol">+</span> eps<span class="sh_symbol">);</span>
    <span class="sh_keyword">return</span> <span class="sh_number">0</span><span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span>

</code></pre></div>

<h3>坑</h3>
<p><strong>坑1：</strong>不要忘记加上两条垂直于 $x$ 轴的线，并且按照<strong>半平面交</strong>的方法用<strong>单调栈</strong>插入直线。</p>
<p><strong>坑2：</strong><span style="color: red">&lt;important&gt;</span>由于本题没有 Special Judge，又测试点的答案可能为 $0$，因此程序可能输出 <code>-0.00</code> 导致判错，因此需要<strong>加上 <code>eps</code> 后输出</strong>。</p>

